<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sthalos</title>

<!-- Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
  /* local font - make sure brevis.ttf is in same folder */
  @font-face {
    font-family: 'Brevis';
    src: url('brevis.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }

  :root {
    --accent: #ff1a1a;
  }

  /* Base */
  * { box-sizing: border-box; }
  html,body { height:100%; margin:0; }
  body {
    font-family: Brevis, Arial, Helvetica, sans-serif;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    text-align:center;
    min-height:100vh;
    overflow-x:hidden;
    background: linear-gradient(-45deg,#1a0033,#000033,#330000,#220033);
    background-size:400% 400%;
    animation: gradientShift 12s ease infinite;
    transition: background .6s ease, color .3s ease;
    color: var(--accent);
  }
  @keyframes gradientShift { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

  /* Top-right icons */
  .top-right {
    position: fixed;
    top: 18px;
    right: 18px;
    display:flex;
    gap:12px;
    z-index:1100; /* lower than settings panel which will be 1200+ */
  }
  .circle-btn {
    width:44px; height:44px; border-radius:50%;
    display:inline-flex; align-items:center; justify-content:center;
    color:white; background:#444; text-decoration:none; cursor:pointer;
    box-shadow:0 6px 18px rgba(0,0,0,0.35);
    transition: transform .18s ease;
  }
  .circle-btn:hover { transform: scale(1.08); }
  .insta { background:#e1306c; }
  .google { background:#fff; color:#4285F4; font-weight:700; }
  .settings { background:#555; }

  /* Header / CTA */
  h1 { font-size:64px; margin:8px 0; color:var(--accent); line-height:1; }
  .lead { font-size:20px; margin:6px 0 20px; color:var(--accent); }

  .btn-enter {
    background: var(--accent);
    color: black;
    padding:14px 38px;
    border-radius:10px;
    font-size:20px;
    font-weight:700;
    border:none;
    cursor:pointer;
    box-shadow:0 12px 30px rgba(0,0,0,0.35);
    transition: transform .12s ease, box-shadow .2s ease;
  }
  .btn-enter:active { transform: scale(.98); }
  .btn-enter:hover { box-shadow:0 18px 42px rgba(0,0,0,0.45); }

  /* Quote */
  #quote {
    position: fixed;
    bottom: 34px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 980px;
    padding: 0 18px;
    font-size:18px;
    color: var(--accent);
    z-index: 900;
    text-align:center;
  }

  /* Menu overlay (center modal) */
  #menuOverlay {
    position: fixed; inset:0;
    display:none; align-items:center; justify-content:center;
    background: rgba(0,0,0,0.56); backdrop-filter: blur(6px);
    z-index: 1000;
  }
  #menuBox {
    width:92%; max-width:420px; background: rgba(12,12,12,0.98);
    border-radius:14px; padding:26px; color:#fff; transform:scale(.96);
    opacity:0; transition: transform .28s ease, opacity .28s ease;
    box-shadow: 0 20px 60px rgba(0,0,0,0.6);
  }
  #menuOverlay.show #menuBox { transform:scale(1); opacity:1; }
  #menuBox h2 { font-size:20px; margin-bottom:14px; color:#fff; text-transform:uppercase; letter-spacing:1px; }
  .menu-feature { display:block; padding:12px; background:#222; color:#fff; border-radius:10px; text-decoration:none; font-weight:800; margin:8px 0; }
  .menu-close { margin-top:12px; background:transparent; color:#fff; border:1px solid #333; padding:8px 12px; border-radius:8px; cursor:pointer; }

  /* Settings side panel - hidden off-screen by -100% (fixes black strip) */
  #settingsPanel {
    position: fixed;
    top:0;
    right:-100%;
    width:320px;
    height:100%;
    background: #000;
    color:#fff;
    z-index: 1200; /* above top-right icons */
    transition: right .36s cubic-bezier(.2,.9,.2,1);
    display:flex;
    flex-direction:column;
    padding:18px;
  }
  #settingsPanel.open { right:0; }
  #settingsPanel h3 { margin:6px 0 12px 0; font-size:20px; text-align:center; }
  .setting-item { background:#111; padding:10px; border-radius:8px; margin:8px 0; cursor:pointer; text-align:center; }
  .settings-footer { margin-top:auto; background:#0e0e0e; padding:12px; border-radius:8px; text-align:center; cursor:pointer; }

  /* Themes modal (center) */
  #themesModalOverlay {
    position:fixed; inset:0; display:none; align-items:center; justify-content:center;
    background: rgba(0,0,0,0.6); z-index:1400; backdrop-filter: blur(4px);
  }
  #themesModal {
    width:94%; max-width:820px; max-height:86vh; overflow-y:auto;
    background: rgba(8,8,8,0.98); border-radius:12px; padding:18px; color:#fff;
    box-shadow: 0 28px 80px rgba(0,0,0,0.7);
  }
  #themesModalHeader { display:flex; align-items:center; justify-content:space-between; gap:10px; }
  #themesModalHeader h3 { margin:0; font-size:18px; text-transform:uppercase; letter-spacing:1px; }

  #themesGrid {
    margin-top:12px;
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap:12px;
  }
  .theme-card {
    display:flex; gap:12px; align-items:center; padding:12px; border-radius:10px;
    background: rgba(255,255,255,0.03); cursor:pointer; transition: transform .12s ease, background .12s ease;
  }
  .theme-card:hover { transform: translateY(-4px); background: rgba(255,255,255,0.06); }
  .theme-dot { width:36px; height:36px; border-radius:50%; flex-shrink:0; border:2px solid rgba(255,255,255,0.06); box-shadow:0 6px 18px rgba(0,0,0,0.35); }
  .theme-name { font-size:15px; font-weight:800; color:#fff; }
  .theme-desc { font-size:12px; color:#ddd; opacity:.85; margin-top:4px; }

  #themesCloseBtn { margin-top:12px; display:block; margin-left:auto; margin-right:auto; padding:8px 14px; border-radius:8px; background:transparent; border:1px solid #333; color:#fff; cursor:pointer; }

  @media (max-width:900px) { #themesGrid { grid-template-columns: repeat(2,1fr); } }
  @media (max-width:520px) { #themesGrid { grid-template-columns: 1fr; } h1{font-size:36px} .btn-enter{padding:12px 26px;font-size:18px} }

  /* small helper for focus outlines */
  .theme-card:focus { outline: 3px solid rgba(255,255,255,0.08); outline-offset:2px; }
</style>
</head>
<body class="theme-01">

  <!-- top icons -->
  <div class="top-right" id="topIcons">
    <a class="circle-btn insta" href="https://instagram.com/train.with.harsh" target="_blank" title="Instagram">
      <i class="fab fa-instagram"></i>
    </a>
    <a class="circle-btn google" href="#" title="Google">
      <i class="fab fa-google"></i>
    </a>
    <div id="settingsBtn" class="circle-btn settings" title="Settings">
      <i class="fas fa-cog"></i>
    </div>
  </div>

  <!-- main -->
  <main style="padding:20px;">
    <h1>Sthalos</h1>
    <div class="lead">Strength meets challenge. Coming soon.</div>
    <div style="height:8px;"></div>
    <button id="enterBtn" class="btn-enter" aria-label="Enter">ENTER</button>
  </main>

  <div id="quote" aria-live="polite"></div>

  <!-- menu overlay -->
  <div id="menuOverlay" aria-hidden="true">
    <div id="menuBox" role="dialog" aria-modal="true">
      <h2>PICK YOUR DESTINATION</h2>
      <a class="menu-feature" href="#" id="featureCali">CALI-CHALLENGE GENERATOR</a>
      <button id="menuClose" class="menu-close">Close / Esc</button>
    </div>
  </div>

  <!-- settings side panel -->
  <aside id="settingsPanel" aria-hidden="true">
    <h3>Settings</h3>
    <div class="setting-item" id="openThemes">Themes</div>
    <div style="height:6px"></div>
    <div class="settings-footer" id="closeSettings">Close / Esc</div>
  </aside>

  <!-- themes modal -->
  <div id="themesModalOverlay" aria-hidden="true">
    <div id="themesModal" role="dialog" aria-modal="true" aria-labelledby="themesTitle">
      <div id="themesModalHeader">
        <h3 id="themesTitle">Themes</h3>
      </div>

      <div id="themesGrid">
        <!-- theme cards will be generated by JS -->
      </div>

      <button id="themesCloseBtn">Close / Esc</button>
    </div>
  </div>

<script>
/* ---------------- QUOTES ---------------- */
const quotes = [
  "\"Strength does not come from winning.\"",
  "\"Fall seven times and stand up eight.\"",
  "\"The body achieves what the mind believes.\"",
  "\"Push yourself, because no one else will.\"",
  "\"Discipline beats motivation.\"",
  "\"Suffer the pain of discipline or regret.\"",
  "\"No pain, no gain.\"",
  "\"You are stronger than you think.\"",
  "\"Consistency is key.\"",
  "\"Calisthenics builds warriors.\""
];
const quoteEl = document.getElementById('quote');
if (quoteEl) quoteEl.innerText = quotes[Math.floor(Math.random()*quotes.length)];

/* ---------------- UI nodes ---------------- */
const enterBtn = document.getElementById('enterBtn');
const menuOverlay = document.getElementById('menuOverlay');
const menuClose = document.getElementById('menuClose');

const settingsBtn = document.getElementById('settingsBtn');
const settingsPanel = document.getElementById('settingsPanel');
const openThemes = document.getElementById('openThemes');
const closeSettings = document.getElementById('closeSettings');

const themesModalOverlay = document.getElementById('themesModalOverlay');
const themesGrid = document.getElementById('themesGrid');
const themesCloseBtn = document.getElementById('themesCloseBtn');

/* ---------------- THEME LIST (25) ----------------
   Each item: name, colors array (3-4 stops), desc
*/
const themeList = [
  { id:'theme-01', name:'Dark Crimson', colors:['#1a0033','#000033','#330000','#220033'], desc:'Deep red and midnight', accent:'#ff1a1a' },
  { id:'theme-02', name:'Blueberry Blues', colors:['#0d1b2a','#1b263b','#415a77','#1b1f4f'], desc:'Cold indigos and deep sea', accent:'#ffd9e0' },
  { id:'theme-03', name:'Tropical Sunset', colors:['#ff7e5f','#feb47b','#f6d365','#fda085'], desc:'Warm orange and gold', accent:'#07104b' },
  { id:'theme-04', name:'Candy Lagoon', colors:['#ff66b2','#ffffff','#00ffff','#ff99cc'], desc:'Playful pastels and cyan', accent:'#07104b' },
  { id:'theme-05', name:'Cosmic Night', colors:['#0f0c29','#302b63','#24243e','#4b2b7f'], desc:'Deep space indigo', accent:'#ffb6c6' },
  { id:'theme-06', name:'Forest Whisper', colors:['#0b3d20','#1f5f2a','#3b8d47','#0f2f1a'], desc:'Greens like moss and pine', accent:'#ffdca3' },
  { id:'theme-07', name:'Inferno Blaze', colors:['#2b0000','#ff3b00','#ff8b00','#662200'], desc:'Fiery red-orange', accent:'#fff1e6' },
  { id:'theme-08', name:'Crystal Sky', colors:['#0066cc','#66ccff','#aaf0ff','#1a9cff'], desc:'Ocean blues and aqua', accent:'#001a3d' },
  { id:'theme-09', name:'Sakura Dream', colors:['#ffb3c6','#ffdfe6','#fff0f8','#ffb3d9'], desc:'Soft pink cherry tones', accent:'#07104b' },
  { id:'theme-10', name:'Neon Storm', colors:['#00ffff','#ff00ff','#00ff88','#001a33'], desc:'Electric bright neons', accent:'#ffffff' },
  { id:'theme-11', name:'Desert Mirage', colors:['#ef9a3c','#f4d06f','#c67f33','#e9c46a'], desc:'Warm sand and gold', accent:'#07104b' },
  { id:'theme-12', name:'Glacier Mist', colors:['#eaf6ff','#bfe9ff','#8fd6ff','#cfeeff'], desc:'Cool icy blues', accent:'#001a3d' },
  { id:'theme-13', name:'Royal Gold', colors:['#f7d794','#f6caa3','#f0b67f','#f2a65a'], desc:'Regal gold tones', accent:'#07104b' },
  { id:'theme-14', name:'Ocean Deep', colors:['#001f3f','#003f5c','#2f4b7c','#665191'], desc:'Dark navy sea depth', accent:'#a8e6ff' },
  { id:'theme-15', name:'Ember Glow', colors:['#ff4e50','#f9d423','#ff7b00','#ff3b3b'], desc:'Warm ember and gold', accent:'#0b0b0b' },
  { id:'theme-16', name:'Meadow Fresh', colors:['#76b852','#8dc26f','#b7e4a5','#4a8f29'], desc:'Lively green pastures', accent:'#05311a' },
  { id:'theme-17', name:'Twilight Purple', colors:['#2c3e50','#4ca1af','#7b2ff7','#b983ff'], desc:'Dusky purple twilight', accent:'#fff6f6' },
  { id:'theme-18', name:'Copper Canyon', colors:['#7b3f00','#c86b2d','#ffaa5c','#3d1300'], desc:'Earthy copper and rust', accent:'#fff0e0' },
  { id:'theme-19', name:'Arctic Dawn', colors:['#cfe9ff','#a6e1ff','#7bd3ff','#e6fbff'], desc:'Pale sky and cool tones', accent:'#012a4a' },
  { id:'theme-20', name:'Rosewood', colors:['#2b0a3d','#72306a','#a93f86','#ff6b9f'], desc:'Deep rose and mauve', accent:'#fff6f6' },
  { id:'theme-21', name:'Mango Tango', colors:['#ffb347','#ffcc33','#ff7f50','#ffcc66'], desc:'Tropical mango gold', accent:'#041a2b' },
  { id:'theme-22', name:'Indigo Dusk', colors:['#2b5876','#4e4376','#6c5b7b','#8a65a7'], desc:'Soft indigo dusk blues', accent:'#fff7ff' },
  { id:'theme-23', name:'Mint Whisper', colors:['#d4fc79','#96e6a1','#b8ffcc','#6dd3b0'], desc:'Fresh minty palette', accent:'#012a1a' },
  { id:'theme-24', name:'Solar Flare', colors:['#f7971e','#ffd200','#ff4e50','#ff7b00'], desc:'Bright sunburst gradient', accent:'#07104b' },
  { id:'theme-25', name:'Lunar Grey', colors:['#3a3a3a','#6b6b6b','#a3a3a3','#dddddd'], desc:'Monochrome steel & moon', accent:'#041430' }
];

/* Utility: create linear-gradient CSS from colors */
function gradientFrom(colors) {
  return 'linear-gradient(135deg,' + colors.join(',') + ')';
}

/* Render theme cards */
function renderThemes() {
  themesGrid.innerHTML = '';
  for (let i=0;i<themeList.length;i++){
    const t = themeList[i];
    const card = document.createElement('div');
    card.className = 'theme-card';
    card.setAttribute('tabindex','0');
    card.setAttribute('role','button');
    card.setAttribute('aria-label','Apply '+t.name);

    const dot = document.createElement('div');
    dot.className = 'theme-dot';
    dot.style.background = gradientFrom(t.colors);

    const info = document.createElement('div');
    const name = document.createElement('div');
    name.className = 'theme-name';
    name.innerText = t.name;
    const desc = document.createElement('div');
    desc.className = 'theme-desc';
    desc.innerText = t.desc;

    info.appendChild(name);
    info.appendChild(desc);

    card.appendChild(dot);
    card.appendChild(info);

    // click handler - apply theme
    (function(theme){
      card.addEventListener('click', function(){
        applyTheme(theme.id, theme.colors, theme.accent);
      });
      card.addEventListener('keydown', function(e){
        if(e.key === 'Enter') applyTheme(theme.id, theme.colors, theme.accent);
      });
    })(t);

    themesGrid.appendChild(card);
  }
}

/* Apply theme: sets class for optional CSS (not required), but we'll set inline background + accent var */
function applyTheme(id, colors, accent){
  // set body background gradient directly for instant visual result
  document.body.style.background = gradientFrom(colors);
  document.body.style.backgroundSize = '400% 400%';
  // ensure animation remains
  document.body.style.animation = 'gradientShift 12s ease infinite';
  // set accent color variable
  if (accent) document.documentElement.style.setProperty('--accent', accent);
  // persist chosen theme id (so user preference can be restored)
  try { localStorage.setItem('sthalos_theme', id); } catch(e){}
}

/* restore theme from storage if present */
(function restoreTheme(){
  try {
    const saved = localStorage.getItem('sthalos_theme');
    if (saved) {
      const found = themeList.find(t => t.id === saved);
      if (found) applyTheme(found.id, found.colors, found.accent);
    }
  } catch(e){ /* ignore */ }
})();

/* ---------------- open/close logic ---------------- */
/* Enter button -> menu */
enterBtn.addEventListener('click', function(){
  enterBtn.style.transform = 'scale(1.06)';
  setTimeout(function(){
    enterBtn.style.transform = '';
    menuOverlay.style.display = 'flex';
    setTimeout(()=>menuOverlay.classList.add('show'), 40);
  }, 120);
});
menuClose.addEventListener('click', function(){
  menuOverlay.classList.remove('show');
  setTimeout(()=>menuOverlay.style.display='none', 350);
});

/* Settings toggle (gear rotates) */
settingsBtn.addEventListener('click', function(){
  settingsBtn.classList.toggle('rotate');
  settingsPanel.classList.toggle('open');
});

/* Settings close button */
closeSettings.addEventListener('click', function(){
  settingsBtn.classList.remove('rotate');
  settingsPanel.classList.remove('open');
});

/* Open themes modal from settings */
openThemes.addEventListener('click', function(){
  themesModalOverlay.style.display = 'flex';
  themesModalOverlay.setAttribute('aria-hidden','false');
  // render cards fresh (only once is enough but re-rendering is fine)
  renderThemes();
  // scroll top
  const modal = document.getElementById('themesModal');
  if(modal) modal.scrollTop = 0;
});

/* Close themes */
themesCloseBtn.addEventListener('click', function(){
  themesModalOverlay.style.display = 'none';
  themesModalOverlay.setAttribute('aria-hidden','true');
});
themesModalOverlay.addEventListener('click', function(e){
  if (e.target === themesModalOverlay) {
    themesModalOverlay.style.display = 'none';
    themesModalOverlay.setAttribute('aria-hidden','true');
  }
});

/* close on Escape key - handles menu, settings, themes */
document.addEventListener('keydown', function(e){
  if (e.key === 'Escape' || e.key === 'Esc'){
    // settings
    if (settingsPanel.classList.contains('open')){
      settingsBtn.classList.remove('rotate');
      settingsPanel.classList.remove('open');
    }
    // menu
    if (menuOverlay.classList.contains('show')){
      menuOverlay.classList.remove('show');
      setTimeout(()=>menuOverlay.style.display='none',350);
    }
    // themes
    if (themesModalOverlay.style.display === 'flex'){
      themesModalOverlay.style.display = 'none';
      themesModalOverlay.setAttribute('aria-hidden','true');
    }
  }
});

/* Accessibility: focus trap naive handling when opening themes */
themesModalOverlay.addEventListener('keydown', function(e){
  // prevent TAB leaving the modal in a simple way only if modal open
  if (themesModalOverlay.style.display === 'flex' && e.key === 'Tab'){
    // allow default but keep things within modal by checking activeElement
    // (Advanced trapping is overkill here; this is a minimal safe behavior)
  }
});

/* Feature Cali (placeholder) - clicking closes modal/menu and could navigate later */
document.getElementById('featureCali').addEventListener('click', function(e){
  e.preventDefault();
  // close menu and optionally open feature (we'll just close menu for now)
  menuOverlay.classList.remove('show');
  setTimeout(()=>menuOverlay.style.display='none', 300);
  // you can wire this to open a new screen or navigate
  alert('CALI-CHALLENGE GENERATOR placeholder (implement later).');
});

/* initial render not required until user opens themes, but render once for speed */
renderThemes();
</script>
</body>
</html>
